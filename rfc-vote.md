# Vote on RFC

Cast your vote on an RFC in voting state.

**Access**: Council members only (CTO, Architect, Security Lead, Toolsmith, DevOps, Product Owner, UX Designer)

## Usage

```
/rfc-vote [number] [vote]
/rfc-vote [number] [vote] "[reason]"
```

**Examples**:
```
/rfc-vote 003 approve
/rfc-vote 003 reject "Security concerns with the proposed auth flow"
/rfc-vote 003 abstain "Outside my domain expertise"
```

## Arguments

- `number`: RFC number (e.g., 003)
- `vote`: approve | reject | abstain
- `reason`: Optional reason (required if rejecting)

## Instructions

### 1. Verify Council Membership

This skill is for council members only. If the terminal is not one of:
- CTO
- Architect
- Security Lead
- Toolsmith
- DevOps
- Product Owner
- UX Designer

Output error:
> "Error: Only council members can vote on RFCs."

### 2. Identify Voter

Ask which council member is voting (or infer from terminal context).

### 3. Cast Vote Using Script

Use `rfc-consensus.py` to record the vote:

```bash
# For approve/abstain:
python3 scripts/rfc-consensus.py cast [number] [voter] [vote]

# For reject (include reason):
python3 scripts/rfc-consensus.py cast [number] [voter] reject --reason "[reason]"
```

**Examples**:
```bash
python3 scripts/rfc-consensus.py cast 006 CTO approve
python3 scripts/rfc-consensus.py cast 006 Security reject --reason "Missing threat model"
python3 scripts/rfc-consensus.py cast 006 Toolsmith abstain
```

The script will:
- Validate RFC exists and is votable
- Update the vote table in the RFC file
- Log dissent automatically for reject votes
- Return current tally and consensus status

### 4. Check Consensus Status

After casting, the script outputs consensus status. If pending voters remain, show who is awaiting.

To check status explicitly:
```bash
python3 scripts/rfc-consensus.py check [number] --json
```

### 5. Auto-Finalize on Consensus

**IMPORTANT**: If the script indicates consensus reached or RFC rejected:

```bash
python3 scripts/rfc-consensus.py finalize [number]
```

This automatically:
- Creates `DEC-XXX-[slug].md` decision record for approved RFCs
- Updates RFC status to `decided` or `rejected`
- Links the Decision ID in the RFC

### 6. Output Confirmation

Report the result to the user:

```
Vote recorded on RFC-XXX: [Title]

Your vote: [vote]
Votes so far:
- Approve: N
- Reject: N
- Abstain: N
- Pending: N

[If decided] RFC-XXX has been approved. Decision record: DEC-XXX
[If rejected] RFC-XXX has been rejected.
[If pending] Awaiting votes from: [list pending voters]
```

## Quick Reference

| Action | Command |
|--------|---------|
| List pending RFCs | `python3 scripts/rfc-consensus.py pending` |
| Tally votes | `python3 scripts/rfc-consensus.py tally [number]` |
| Cast vote | `python3 scripts/rfc-consensus.py cast [num] [voter] [vote]` |
| Check consensus | `python3 scripts/rfc-consensus.py check [number] --json` |
| Finalize decision | `python3 scripts/rfc-consensus.py finalize [number]` |

## Token Savings

This integration reduces token usage by ~17,500/cycle:
- Vote tallying done by script (not AI parsing tables)
- Automatic consensus detection (no manual counting)
- DEC-XXX file generated by script (not AI templating)

## Related Skills

- `/rfc [title]` - Create new RFC
- `/rfc-propose [number]` - Move RFC to proposed state
- `/council [topic]` - Discuss informally before creating RFC

ARGUMENTS: $ARGUMENTS
